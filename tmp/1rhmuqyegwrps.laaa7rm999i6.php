<hr class="footer-line blue has-background-grey">

<!-- ==================== DESKTOP ==================== -->
<footer class="footer is-hidden-touch">
  <div class="columns has-text-centered">
    <div class="column is-4">
      <h3 class="has-text-weight-semibold has-text-black mb-3">Layanan Pelanggan</h3>
      <ul>
        <li><a href="#">Bantuan</a></li>
        <li><a href="#">Metode Pembayaran</a></li>
        <li><a href="#">Lacak Pesanan Pembeli</a></li>
        <li><a href="#">Lacak Pengiriman Penjual</a></li>
        <li><a href="#">Gratis Ongkir</a></li>
        <li><a href="#">Pengembalian Barang & Dana</a></li>
        <li><a href="#">Garansi</a></li>
        <li><a href="#">Hubungi Kami</a></li>
      </ul>
    </div>
    <div class="column is-4">
      <h3 class="has-text-weight-semibold has-text-black mb-3">Jelajahi Arumi</h3>
      <ul>
        <li><a href="#">Tentang Kami</a></li>
        <li><a href="#">Karir</a></li>
        <li><a href="#">Kebijakan Arumi</a></li>
        <li><a href="#">Kebijakan Privasi</a></li>
        <li><a href="#">Blog</a></li>
        <li><a href="#">Seller Centre</a></li>
        <li><a href="#">Flash Sale</a></li>
        <li><a href="#">Kontak Media</a></li>
      </ul>
    </div>
    <div class="column is-4">
      <h3 class="has-text-weight-semibold has-text-black mb-3">Pembayaran</h3>
      <div class="payment-methods columns is-vcentered mb-0">
        <div class="column is-one-quarter">
          <div class="card">
            <div class="card-image p-1">
              <figure class="image is-16by9">
                <img src="<?= ($BASE) ?>/public/images/bri2.jpg" alt="Bank1" />
              </figure>
            </div>
          </div>
        </div>
        <div class="column is-one-quarter">
          <div class="card">
            <div class="card-image p-1">
              <figure class="image is-16by9">
                <img src="<?= ($BASE) ?>/public/images/bca3.jpg" alt="Bank2" />
              </figure>
            </div>
          </div>
        </div>
        <div class="column is-one-quarter">
          <div class="card">
            <div class="card-image p-1">
              <figure class="image is-16by9">
                <img src="<?= ($BASE) ?>/public/images/bni2.jpg" alt="Bank3" />
              </figure>
            </div>
          </div>
        </div>
        <div class="column is-one-quarter">
          <div class="card">
            <div class="card-image p-1">
              <figure class="image is-16by9">
                <img src="<?= ($BASE) ?>/public/images/mandiri2.png" alt="Bank4" />
              </figure>
            </div>
          </div>
        </div>
      </div>
      <div class="payment-methods columns is-vcentered">
        <div class="column is-one-quarter">
          <div class="card">
            <div class="card-image p-1">
              <figure class="image is-16by9">
                <img src="<?= ($BASE) ?>/public/images/paypal2.png" alt="Bank5" />
              </figure>
            </div>
          </div>
        </div>
        <div class="column is-one-quarter">
          <div class="card">
            <div class="card-image">
              <figure class="image is-16by9">
                <img src="<?= ($BASE) ?>/public/images/bank_jateng.png" alt="Bank6" />
              </figure>
            </div>
          </div>
        </div>
        <div class="column is-one-quarter">
          <div class="card">
            <div class="card-image p-1">
              <figure class="image is-16by9">
                <img src="<?= ($BASE) ?>/public/images/images.jpeg" alt="Bank7" />
              </figure>
            </div>
          </div>
        </div>
        <div class="column is-one-quarter">
          <div class="card">
            <div class="card-image">
              <figure class="image is-16by9">
                <img src="<?= ($BASE) ?>/public/images/bsi3.png" alt="Bank8" />
              </figure>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <hr class="footer-line">
  <div class="has-text-centered columns">
    <div class="column is-4">
      <h3 class="has-text-weight-semibold has-text-black mb-3">Ikuti Kami</h3>
      <ul class="sosial-media mb-5">
        <li>
          <a href="https://facebook.com" class="icon">
            <i class="icofont-facebook"></i>
            <p class="ml-2">Facebook</p>
          </a>
        </li>
        <li>
          <a href="https://instagram.com" class="icon">
            <i class="icofont-instagram"></i>
            <p class="ml-2">Instagram</p>
          </a>
        </li>
        <li>
          <a href="https://twitter.com" class="icon">
            <i class="icofont-twitter"></i>
            <p class="ml-2">Twitter</p>
          </a>
        </li>
        <li>
          <a href="https://linkedin.com" class="icon">
            <i class="icofont-linkedin"></i>
            <p class="ml-2">LinkedIn</p>
          </a>
        </li>
      </ul>
      <h3 class="has-text-weight-semibold has-text-black mb-3">Keamanan</h3>
      <div class="column is-6 is-offset-3 p-0">
        <figure class="image is-128x128 container">
          <img src="<?= ($BASE) ?>/public/images/keamanan.png" alt="Security">
        </figure>
      </div>
    </div>
    <div class="column is-4 has-text-centered">
      <h3 class="has-text-weight-semibold has-text-black mb-3">Download Aplikasi Arumi</h3>
      <div class="download-container">
        <div class="column is-4 is-offset-4 p-0">
          <figure class="image is-128x128 container">
            <a href="#" class="is-flex">
              <img src="<?= ($BASE) ?>/public/images/bcode.png" alt="App Store">
            </a>
          </figure>
        </div>
      </div>
    </div>
    <div class="column is-4 has-text-centered">
      <h3 class="has-text-weight-semibold has-text-black mb-3">Pengiriman</h3>
      <div class="payment-methods columns is-vcentered mb-0">
        <div class="column is-one-quarter">
          <div class="card">
            <div class="card-image p-1">
              <figure class="image is-16by9">
                <img src="<?= ($BASE) ?>/public/images/jnt2.jpg" alt="Courier1" />
              </figure>
            </div>
          </div>
        </div>
        <div class="column is-one-quarter">
          <div class="card">
            <div class="card-image p-0">
              <figure class="image is-16by9">
                <img src="<?= ($BASE) ?>/public/images/jne2.jpg" alt="Courier2" />
              </figure>
            </div>
          </div>
        </div>
        <div class="column is-one-quarter">
          <div class="card">
            <div class="card-image p-1">
              <figure class="image is-16by9">
                <img src="<?= ($BASE) ?>/public/images/lion2.png" alt="Courier3" />
              </figure>
            </div>
          </div>
        </div>
        <div class="column is-one-quarter">
          <div class="card">
            <div class="card-image p-1">
              <figure class="image is-16by9">
                <img src="<?= ($BASE) ?>/public/images/tiki2.png" alt="Courier4" />
              </figure>
            </div>
          </div>
        </div>
      </div>
      <div class="payment-methods columns is-vcentered">
        <div class="column is-one-quarter">
          <div class="card">
            <div class="card-image p-1">
              <figure class="image is-16by9">
                <img src="<?= ($BASE) ?>/public/images/pos.jpg" alt="Courier5" />
              </figure>
            </div>
          </div>
        </div>
        <div class="column is-one-quarter">
          <div class="card">
            <div class="card-image p-0">
              <figure class="image is-16by9">
                <img src="<?= ($BASE) ?>/public/images/gosend2.jpg" alt="Courier6" />
              </figure>
            </div>
          </div>
        </div>
        <div class="column is-one-quarter">
          <div class="card">
            <div class="card-image p-0">
              <figure class="image is-16by9">
                <img src="<?= ($BASE) ?>/public/images/ninja2.png" alt="Courier7" />
              </figure>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</footer>

<!-- ==================== MOBILE =================== -->
<footer class="footer is-hidden-desktop is-hidden-touch">
  <div class="columns has-text-centered">
    <div class="column mb-5">
      <h3 class=" is-size-7 has-text-weight-semibold has-text-black mb-2">Layanan Pelanggan</h3>
      <ul class="is-size-7">
        <li><a href="#">Bantuan</a></li>
        <li><a href="#">Metode Pembayaran</a></li>
        <li><a href="#">Lacak Pesanan Pembeli</a></li>
        <li><a href="#">Lacak Pengiriman Penjual</a></li>
        <li><a href="#">Gratis Ongkir</a></li>
        <li><a href="#">Pengembalian Barang & Dana</a></li>
        <li><a href="#">Garansi</a></li>
        <li><a href="#">Hubungi Kami</a></li>
      </ul>
    </div>
    <div class="column mb-5">
      <h3 class="is-size-7 has-text-weight-semibold has-text-black mb-2">Jelajahi Arumi</h3>
      <ul class="is-size-7">
        <li><a href="#">Tentang Kami</a></li>
        <li><a href="#">Karir</a></li>
        <li><a href="#">Kebijakan Arumi</a></li>
        <li><a href="#">Kebijakan Privasi</a></li>
        <li><a href="#">Blog</a></li>
        <li><a href="#">Seller Centre</a></li>
        <li><a href="#">Flash Sale</a></li>
        <li><a href="#">Kontak Media</a></li>
      </ul>
    </div>
    <div class="column mb-5">
      <h3 class="is-size-7 has-text-weight-semibold has-text-black mb-2">Pembayaran</h3>
      <div class="payment-methods columns is-flex is-vcentered mb-0">
        <div class="column is-one-quarter-touch">
          <div class="card">
            <div class="card-image p-1">
              <figure class="image is-16by9">
                <img src="<?= ($BASE) ?>/public/images/bri2.jpg" alt="Bank1" />
              </figure>
            </div>
          </div>
        </div>
        <div class="column is-one-quarter-touch">
          <div class="card">
            <div class="card-image p-1">
              <figure class="image is-16by9">
                <img src="<?= ($BASE) ?>/public/images/bca3.jpg" alt="Bank2" />
              </figure>
            </div>
          </div>
        </div>
        <div class="column is-one-quarter-touch">
          <div class="card">
            <div class="card-image p-1">
              <figure class="image is-16by9">
                <img src="<?= ($BASE) ?>/public/images/bni2.jpg" alt="Bank3" />
              </figure>
            </div>
          </div>
        </div>
        <div class="column is-one-quarter-touch">
          <div class="card">
            <div class="card-image p-1">
              <figure class="image is-16by9">
                <img src="<?= ($BASE) ?>/public/images/mandiri2.png" alt="Bank4" />
              </figure>
            </div>
          </div>
        </div>
      </div>
      <div class="payment-methods columns is-flex is-vcentered">
        <div class="column is-one-quarter-touch">
          <div class="card">
            <div class="card-image p-1">
              <figure class="image is-16by9">
                <img src="<?= ($BASE) ?>/public/images/paypal2.png" alt="Bank5" />
              </figure>
            </div>
          </div>
        </div>
        <div class="column is-one-quarter-touch">
          <div class="card">
            <div class="card-image">
              <figure class="image is-16by9">
                <img src="<?= ($BASE) ?>/public/images/bank_jateng.png" alt="Bank6" />
              </figure>
            </div>
          </div>
        </div>
        <div class="column is-one-quarter-touch">
          <div class="card">
            <div class="card-image p-1">
              <figure class="image is-16by9">
                <img src="<?= ($BASE) ?>/public/images/images.jpeg" alt="Bank7" />
              </figure>
            </div>
          </div>
        </div>
        <div class="column is-one-quarter-touch">
          <div class="card">
            <div class="card-image">
              <figure class="image is-16by9">
                <img src="<?= ($BASE) ?>/public/images/bsi3.png" alt="Bank8" />
              </figure>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="has-text-centered columns">
    <div class="column mb-5">
      <h3 class="is-size-7 has-text-weight-semibold has-text-black mb-2">Ikuti Kami</h3>
      <ul class="sosial-media is-size-7">
        <li>
          <a href="https://facebook.com" class="icon">
            <i class="icofont-facebook"></i>
            <p class="ml-2">Facebook</p>
          </a>
        </li>
        <li>
          <a href="https://instagram.com" class="icon">
            <i class="icofont-instagram"></i>
            <p class="ml-2">Instagram</p>
          </a>
        </li>
        <li>
          <a href="https://twitter.com" class="icon">
            <i class="icofont-twitter"></i>
            <p class="ml-2">Twitter</p>
          </a>
        </li>
        <li>
          <a href="https://linkedin.com" class="icon">
            <i class="icofont-linkedin"></i>
            <p class="ml-2">LinkedIn</p>
          </a>
        </li>
      </ul>
    </div>
    <div class="column mb-1">
      <h3 class="is-size-7 has-text-weight-semibold has-text-black mb-2">Keamanan</h3>
      <div class="security-container">
        <div class="column p-0">
          <figure class="image is-64x64 container">
            <img src="<?= ($BASE) ?>/public/images/keamanan.png" alt="Security">
          </figure>
        </div>
      </div>
    </div>
    <div class="column has-text-centered mb-5">
      <h3 class="is-size-7 has-text-weight-semibold has-text-black mb-2">Download Aplikasi Arumi</h3>
      <div class="download-container">
        <div class="column p-0">
          <figure class="image is-64x64 container">
            <a href="#" class="is-flex">
              <img src="<?= ($BASE) ?>/public/images/bcode.png" alt="App Store">
            </a>
          </figure>
        </div>
      </div>
    </div>
    <div class="column has-text-centered mb-5">
      <h3 class="is-size-7 has-text-weight-semibold has-text-black mb-2">Pengiriman</h3>
      <div class="payment-methods columns is-flex is-vcentered mb-0">
        <div class="column is-one-quarter-touch">
          <div class="card">
            <div class="card-image p-1">
              <figure class="image is-16by9">
                <img src="<?= ($BASE) ?>/public/images/jnt2.jpg" alt="Courier1" />
              </figure>
            </div>
          </div>
        </div>
        <div class="column is-one-quarter-touch">
          <div class="card">
            <div class="card-image p-0">
              <figure class="image is-16by9">
                <img src="<?= ($BASE) ?>/public/images/jne2.jpg" alt="Courier2" />
              </figure>
            </div>
          </div>
        </div>
        <div class="column is-one-quarter-touch">
          <div class="card">
            <div class="card-image p-1">
              <figure class="image is-16by9">
                <img src="<?= ($BASE) ?>/public/images/lion2.png" alt="Courier3" />
              </figure>
            </div>
          </div>
        </div>
        <div class="column is-one-quarter-touch">
          <div class="card">
            <div class="card-image p-1">
              <figure class="image is-16by9">
                <img src="<?= ($BASE) ?>/public/images/tiki2.png" alt="Courier4" />
              </figure>
            </div>
          </div>
        </div>
      </div>
      <div class="payment-methods columns is-flex is-vcentered">
        <div class="column is-one-quarter-touch">
          <div class="card">
            <div class="card-image p-1">
              <figure class="image is-16by9">
                <img src="<?= ($BASE) ?>/public/images/pos.jpg" alt="Courier5" />
              </figure>
            </div>
          </div>
        </div>
        <div class="column is-one-quarter-touch">
          <div class="card">
            <div class="card-image p-0">
              <figure class="image is-16by9">
                <img src="<?= ($BASE) ?>/public/images/gosend2.jpg" alt="Courier6" />
              </figure>
            </div>
          </div>
        </div>
        <div class="column is-one-quarter-touch">
          <div class="card">
            <div class="card-image p-0">
              <figure class="image is-16by9">
                <img src="<?= ($BASE) ?>/public/images/ninja2.png" alt="Courier7" />
              </figure>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</footer>



<!-- Lazy Row -->
<script>

    if (window.matchMedia("(max-width: 1023px)").matches) {
        // Mobile
        const rowsPerLoad = 1;
        let currentRowIndex = 0;
        const content = document.getElementById('content-mobile');
        const loading = document.getElementById('loading-mobile');
        const allRows = Array.from(document.querySelectorAll('#content-mobile .row'));
        
        function hideAllRows() {
        console.log(`Row sembunyi`);
        allRows.forEach(row => row.style.display = 'none');
    }
    
    function showRows(startIndex, endIndex) {
        console.log(`Tunjukin rows dari index ${startIndex} ke ${endIndex}`);
        for (let i = startIndex; i < endIndex && i < allRows.length; i++) {
            allRows[i].style.display = 'block';
    
            const lazyImages = allRows[i].querySelectorAll('img[data-src]');
            lazyImages.forEach(img => {
                img.src = img.dataset.src;
                img.removeAttribute('data-src');
            });
        }
    }
    
    function loadMoreData() {
        console.log(`loadMoreData dipanggil, currentRowIndex: ${currentRowIndex}`);
    
        if (currentRowIndex >= allRows.length) {
            console.log('Row tampil semua AMAN.');
            loading.style.display = 'none';
            return;
        }
    
        loading.style.display = 'block';
    
        setTimeout(() => {
            const start = currentRowIndex;
            const end = currentRowIndex + rowsPerLoad;
            showRows(start, end);
            currentRowIndex = end;
    
            console.log(`Update currentRowIndex jadi: ${currentRowIndex}`);
            loading.style.display = 'none';
    
            if (currentRowIndex < allRows.length) {
                observer.observe(allRows[currentRowIndex]);
            }
        }, 1600); // Delay per detik
    }
    
    hideAllRows();
    loadMoreData();
    
    const observer = new IntersectionObserver(entries => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                console.log('Observer ke-trigger, load row lagi...');
                loadMoreData();
            }
        });
    }, {
        root: null,
        rootMargin: '0px', 
        threshold: 0 
    });
    
    if (currentRowIndex < allRows.length) {
        observer.observe(allRows[currentRowIndex]);
    }
    
    const lazyImages = document.querySelectorAll('img[data-src]');
    lazyImages.forEach(img => {
        observer.observe(img);
    });
    
    } else {
        // Desktop
        const rowsPerLoad = 2;
        let currentRowIndex = 0;
        const content = document.getElementById('content-desktop');
        const loading = document.getElementById('loading-desktop');
        const allRows = Array.from(document.querySelectorAll('#content-desktop .row'));
        function hideAllRows() {
        console.log(`Row sembunyi`);
        allRows.forEach(row => row.style.display = 'none');
    }
    
    function showRows(startIndex, endIndex) {
        console.log(`Tunjukin rows dari index ${startIndex} ke ${endIndex}`);
        for (let i = startIndex; i < endIndex && i < allRows.length; i++) {
            allRows[i].style.display = 'block';
    
            const lazyImages = allRows[i].querySelectorAll('img[data-src]');
            lazyImages.forEach(img => {
                img.src = img.dataset.src;
                img.removeAttribute('data-src');
            });
        }
    }
    
    function loadMoreData() {
        console.log(`loadMoreData dipanggil, currentRowIndex: ${currentRowIndex}`);
    
        if (currentRowIndex >= allRows.length) {
            console.log('Row tampil semua AMAN.');
            loading.style.display = 'none';
            return;
        }
    
        loading.style.display = 'block';
    
        setTimeout(() => {
            const start = currentRowIndex;
            const end = currentRowIndex + rowsPerLoad;
            showRows(start, end);
            currentRowIndex = end;
    
            console.log(`Update currentRowIndex jadi: ${currentRowIndex}`);
            loading.style.display = 'none';
    
            if (currentRowIndex < allRows.length) {
                observer.observe(allRows[currentRowIndex]);
            }
        }, 1600); // Delay per detik
    }
    
    hideAllRows();
    loadMoreData();
    
    const observer = new IntersectionObserver(entries => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                console.log('Observer ke-trigger, load row lagi...');
                loadMoreData();
            }
        });
    }, {
        root: null,
        rootMargin: '0px', 
        threshold: 0 
    });
    
    if (currentRowIndex < allRows.length) {
        observer.observe(allRows[currentRowIndex]);
    }
    
    const lazyImages = document.querySelectorAll('img[data-src]');
    lazyImages.forEach(img => {
        observer.observe(img);
    });
    }
    
    </script>



<script>
  if (window.matchMedia("(max-width: 1023px)").matches) {
    // MOBILE
    const itemContainer = document.getElementById('semua-barang-mobile');
    const loadingElement = document.getElementById('loading-semua-barang-mobile');
    let currentPage = 1;
    let isLoading = false;

    async function loadItems(page) {
        if (isLoading) return;
        isLoading = true;

        try {
            loadingElement.style.display = 'block';

            const response = await fetch(`/api/allproducts`);
            const products = await response.json();
            
            let row = document.createElement('div');
            row.classList.add('row', 'm-2');

            let columns = document.createElement('div');
            columns.classList.add('columns', 'is-1-touch', 'is-multiline', 'is-mobile')
            row.appendChild(columns);
            
            products.forEach((product, index) => {
                let column = document.createElement('div');
                column.classList.add('column', 'is-half-touch', 'p-0', 'mb-3');
                column.innerHTML = `
                  <div class="grid-border">
                    <a href="/detail/${product.id}">
                        <div class="card">
                            <div class="card-image">
                                <figure class="image is-1by1">
                                    <img src="/public/images/${product.image}" alt="${product.name} - ${product.motor}" class="product-image">
                                </figure>
                            </div>
                            <div class="card-content p-3">
                                <div class="nama-produk">
                                    <div class="product-title-wrapper mb-2">
                                        <p class="product-title">${product.name} - ${product.motor}</p>
                                    </div>
                                    <div class="product-tags mb-1">
                                        <span class="tag is-danger">Diskon</span>
                                        <span class="tag is-primary">-69%</span>
                                    </div>
                                    <div class="price-sold is-flex is-justify-content-space-between is-align-items-center">
                                        <p class="product-price has-text-info has-text-weight-medium is-size-6">${product.price}</p>
                                        <p class="product-sold is-size-7">${product.sold}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>
                  </div>
                `;

                columns.appendChild(column);

                if ((index + 1) % 6 === 0) {
                    itemContainer.appendChild(row);
                    row = document.createElement('div');
                    row.classList.add('row', 'm-2');
                    columns = document.createElement('div');
                    columns.classList.add('columns', 'is-1', 'is-multiline', 'is-mobile');
                    row.appendChild(columns);
                }
            });

            if (row.children.length > 0) {
                itemContainer.appendChild(row);
            }

            loadingElement.style.display = 'none';

            isLoading = false;
        } catch (error) {
            console.error('Error loading products:', error);
            isLoading = false;
        }
    }

    loadItems(currentPage);
  } else {
    // DESKTOP
    const itemContainer = document.getElementById('semua-barang-desktop');
    const loadingElement = document.getElementById('loading-semua-barang-desktop');
    let currentPage = 1;
    let isLoading = false;

    async function loadItems(page) {
        if (isLoading) return;
        isLoading = true;

        setTimeout(1600);

        try {
            loadingElement.style.display = 'block';

            const response = await fetch(`/api/allproducts`);
            const products = await response.json();
            
            let row = document.createElement('div');
            row.classList.add('row', 'm-2');

            let columns = document.createElement('div');
            columns.classList.add('columns', 'is-1', 'is-multiline', 'is-mobile')
            row.appendChild(columns);
            
            products.forEach((product, index) => {
                let column = document.createElement('div');
                column.classList.add('column', 'is-2', 'p-0', 'mb-3');
                column.innerHTML = `
                <div class="grid-border">
                    <a href="/detail/${product.id}">
                        <div class="card">
                            <div class="card-image">
                                <figure class="image is-1by1">
                                    <img src="/public/images/${product.product_img}" alt="${product.name} - ${product.motor}" class="product-image">
                                </figure>
                            </div>
                            <div class="card-content p-3">
                                <div class="nama-produk">
                                    <div class="product-title-wrapper mb-2">
                                        <p class="product-title">${product.name} - ${product.motor}</p>
                                    </div>
                                    <div class="product-tags mb-1">
                                        <span class="tag is-danger">Diskon</span>
                                        <span class="tag is-primary">-69%</span>
                                    </div>
                                    <div class="price-sold is-flex is-justify-content-space-between is-align-items-center">
                                        <p class="product-price has-text-info has-text-weight-medium is-size-6">${product.price}</p>
                                        <p class="product-sold is-size-7">${product.sold} Terjual</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>
                  </div>
                `;

                columns.appendChild(column);

                if ((index + 1) % 6 === 0) {
                    itemContainer.appendChild(row);
                    row = document.createElement('div');
                    row.classList.add('row', 'm-2');
                    columns = document.createElement('div');
                    columns.classList.add('columns', 'is-1', 'is-multiline', 'is-mobile');
                    row.appendChild(columns);
                }
            });

            if (row.children.length > 0) {
                itemContainer.appendChild(row);
            }

            loadingElement.style.display = 'none';

            isLoading = false;
        } catch (error) {
            console.error('Error loading products:', error);
            isLoading = false;
        }
    }

    loadItems(currentPage);

    const observer = new IntersectionObserver(entries => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                console.log('load row lagi...');
                loadItems(currentPage);
            }
        });
    }, {
        root: null,
        rootMargin: '0px', 
        threshold: 0 
    });
  }


</script>



</body>

</html>